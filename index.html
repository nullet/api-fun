<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>The Inkling API - A Quick How-To</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:contact@inklingmarkets.com'>Contact us</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="the-inkling-api:-a-quick-how-to">The Inkling API: A Quick How-To</h1>

<p>Below you can find a few example calls against current questions in our public market.</p>

          <h1 id="presidential-candidate-announcements">Presidential Candidate Announcements</h1>

<h2 id="markets#show">Markets#show</h2>

<blockquote>
<p>If we want to see the information about this market, the API call is very simple.</p>
</blockquote>
<pre><code class="highlight shell">curl -u username:password http://home.inklingmarkets.com/markets/58931.xml
</code></pre>

<blockquote>
<p>This will return everything you need to know about the market:</p>
</blockquote>
<pre><code class="highlight xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;options&gt;</span>
  <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2013-10-27T15:11:33-07:00<span class="nt">&lt;/created-at&gt;</span>
  <span class="nt">&lt;ends-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2015-06-29T15:11:00-07:00<span class="nt">&lt;/ends-at&gt;</span>
  <span class="nt">&lt;exclusive</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/exclusive&gt;</span>
  <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>58931<span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;notes-count</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>5<span class="nt">&lt;/notes-count&gt;</span>
  <span class="nt">&lt;opinion</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/opinion&gt;</span>
  <span class="nt">&lt;resolved</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/resolved&gt;</span>
  <span class="nt">&lt;resolved-at</span> <span class="na">type=</span><span class="s">"datetime"</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/resolved-at&gt;</span>
  <span class="nt">&lt;scale</span> <span class="na">type=</span><span class="s">"float"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/scale&gt;</span>
  <span class="nt">&lt;slush</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/slush&gt;</span>
  <span class="nt">&lt;starts-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2013-10-27T15:11:00-07:00<span class="nt">&lt;/starts-at&gt;</span>
  <span class="nt">&lt;trades-count</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>481<span class="nt">&lt;/trades-count&gt;</span>
  <span class="nt">&lt;updated-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2015-02-16T10:48:59-08:00<span class="nt">&lt;/updated-at&gt;</span>
  <span class="nt">&lt;name&gt;</span>Which of these candidates will formally announce a U.S. presidential candidacy by July 1, 2015, for the 2016 race?<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;description&gt;</span>...<span class="nt">&lt;/description&gt;</span>
  <span class="nt">&lt;category-id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/category-id&gt;</span>
  <span class="nt">&lt;widget-access-key&gt;</span>...<span class="nt">&lt;/widget-access-key&gt;</span>
  <span class="nt">&lt;tags</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tag&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>794<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>2016<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/tag&gt;</span>
    <span class="nt">&lt;tag&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>13831<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>2016elections<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/tag&gt;</span>
    <span class="nt">&lt;tag&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>269<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>Elections<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/tag&gt;</span>
    <span class="nt">&lt;tag&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>268<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;name&gt;</span>President<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/tag&gt;</span>
  <span class="nt">&lt;/tags&gt;</span>
  <span class="nt">&lt;closed</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/closed&gt;</span>
  <span class="nt">&lt;membership&gt;&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>19649<span class="nt">&lt;/id&gt;&lt;/membership&gt;</span>
  <span class="nt">&lt;stocks</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stock&gt;</span>
      <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2013-10-27T15:18:42-07:00<span class="nt">&lt;/created-at&gt;</span>
      <span class="nt">&lt;eod-price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9669<span class="nt">&lt;/eod-price&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>218304<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9669<span class="nt">&lt;/price&gt;</span>
      <span class="nt">&lt;price-before-resolution</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9669<span class="nt">&lt;/price-before-resolution&gt;</span>
      <span class="nt">&lt;refunded</span> <span class="na">type=</span><span class="s">"boolean"</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/refunded&gt;</span>
      <span class="nt">&lt;resolved-at</span> <span class="na">type=</span><span class="s">"datetime"</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/resolved-at&gt;</span>
      <span class="nt">&lt;slush</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/slush&gt;</span>
      <span class="nt">&lt;starting-price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>5000<span class="nt">&lt;/starting-price&gt;</span>
      <span class="nt">&lt;name&gt;</span>Jeb Bush<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;description&gt;&lt;/description&gt;</span>
      <span class="nt">&lt;symbol&gt;</span>JB2<span class="nt">&lt;/symbol&gt;</span>
      <span class="nt">&lt;closed</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/closed&gt;</span>
    <span class="nt">&lt;/stock&gt;</span>
    <span class="nt">&lt;stock&gt;</span>
      <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2013-10-27T15:17:23-07:00<span class="nt">&lt;/created-at&gt;</span>
      <span class="nt">&lt;eod-price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9003<span class="nt">&lt;/eod-price&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>218301<span class="nt">&lt;/id&gt;</span>
      <span class="nt">&lt;price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9003<span class="nt">&lt;/price&gt;</span>
      <span class="nt">&lt;price-before-resolution</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9003<span class="nt">&lt;/price-before-resolution&gt;</span>
      <span class="nt">&lt;refunded</span> <span class="na">type=</span><span class="s">"boolean"</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/refunded&gt;</span>
      <span class="nt">&lt;resolved-at</span> <span class="na">type=</span><span class="s">"datetime"</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/resolved-at&gt;</span>
      <span class="nt">&lt;slush</span> <span class="na">nil=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/slush&gt;</span>
      <span class="nt">&lt;starting-price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>5000<span class="nt">&lt;/starting-price&gt;</span>
      <span class="nt">&lt;name&gt;</span>Scott Walker<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;description&gt;&lt;/description&gt;</span>
      <span class="nt">&lt;symbol&gt;</span>SW<span class="nt">&lt;/symbol&gt;</span>
      <span class="nt">&lt;closed</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/closed&gt;</span>
    <span class="nt">&lt;/stock&gt;</span>
    <span class="nt">&lt;stock&gt;</span>
    ...
    <span class="nt">&lt;/stock&gt;</span>
  <span class="nt">&lt;/stocks&gt;</span>
<span class="nt">&lt;/options&gt;</span>
</code></pre>

<p>The first market we&rsquo;ll look at is one regarding who will announce their candidacy for President by July of 2015. This is an <strong>options</strong> market with about 20 different stocks to trade (each of which represents a potential candidate).</p>

<p>The market itself can be found <a href="http://home.inklingmarkets.com/markets/58931">here.</a></p>

<aside class='notice'>There are several fields that aren&rsquo;t explained here. For more detailed explanations of what each field denotes, please <a href='http://developers.inklingmarkets.com/#list'>see this section of our API docs.</a></aside>

<p>In the XML we get back from our API call here, we see the market (denoted by the <code class="prettyprint">options</code> label) and all of the basic data we might want to know about it. Beneath the general info, we can see information about each stock in that market, including <code class="prettyprint">starting-price</code> and the current <code class="prettyprint">price</code> attributes.</p>

<p>The <code class="prettyprint">price-before-resolution</code> will be the final trading price of the stock before it is closed. In the case of this market, the price will either be 0 (false) or 10000 (true) for each stock once the answer is determined.</p>

<p>None of this info gives us a history of the fluctations in the market, however. To do that, we can take a look at the trading history of the market.</p>

<h2 id="trades#list">Trades#list</h2>

<blockquote>
<p>Here&rsquo;s the call we need to make for trade data:</p>
</blockquote>
<pre><code class="highlight shell">curl -u username:password http://home.inklingmarkets.com/markets/58931/trades.xml
</code></pre>

<blockquote>
<p>And we&rsquo;ll get the details of every trade:</p>
</blockquote>
<pre><code class="highlight xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;trades</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sell&gt;</span>
    <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>4299459<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;membership&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>270823<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/membership&gt;</span>
    <span class="nt">&lt;stock&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>218311<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/stock&gt;</span>
    <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2015-02-16T09:13:09-08:00<span class="nt">&lt;/created-at&gt;</span>
    <span class="nt">&lt;quantity</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>140<span class="nt">&lt;/quantity&gt;</span>
    <span class="nt">&lt;paid</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>-25493<span class="nt">&lt;/paid&gt;</span>
    <span class="nt">&lt;reason&gt;&lt;/reason&gt;</span>
    <span class="nt">&lt;starting_price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>237<span class="nt">&lt;/starting_price&gt;</span>
    <span class="nt">&lt;final_price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>137<span class="nt">&lt;/final_price&gt;</span>
    <span class="nt">&lt;login&gt;</span>user1<span class="nt">&lt;/login&gt;</span>
  <span class="nt">&lt;/sell&gt;</span>
  <span class="nt">&lt;buy&gt;</span>
    <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>4298937<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;membership&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>235034<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/membership&gt;</span>
    <span class="nt">&lt;stock&gt;</span>
      <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>218301<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;/stock&gt;</span>
    <span class="nt">&lt;created-at</span> <span class="na">type=</span><span class="s">"datetime"</span><span class="nt">&gt;</span>2015-02-13T13:24:11-08:00<span class="nt">&lt;/created-at&gt;</span>
    <span class="nt">&lt;quantity</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>150<span class="nt">&lt;/quantity&gt;</span>
    <span class="nt">&lt;paid</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>1302957<span class="nt">&lt;/paid&gt;</span>
    <span class="nt">&lt;reason&gt;&lt;/reason&gt;</span>
    <span class="nt">&lt;starting_price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>8321<span class="nt">&lt;/starting_price&gt;</span>
    <span class="nt">&lt;final_price</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>9003<span class="nt">&lt;/final_price&gt;</span>
    <span class="nt">&lt;login&gt;</span>user2<span class="nt">&lt;/login&gt;</span>
  <span class="nt">&lt;/buy&gt;</span>
<span class="nt">&lt;/trades&gt;</span>
</code></pre>

<p>Let&rsquo;s say we&rsquo;d like to see any and all trades made on the market. This call allows us to do that - which means we can view the price history of all stocks on the market.</p>

<p>The data is returned with the most recent trades at the top of the list.</p>

<p>We can also make calls for a specific user&rsquo;s trade history. All users can look at their own trade history via the API. That query would look like this:</p>

<p><code class="prettyprint">curl -u username:password http://home.inklingmarkets.com/trades.xml</code></p>

<p>Admins, however, can view the trade history for any given user, or for all users:</p>

<p><code class="prettyprint">curl -u username:password http://home.inklingmarkets.com/:membership_id/trades.xml</code></p>

<p>If we wanted to see everyone&rsquo;s trades all at once, we would just replace <code class="prettyprint">:membership_id</code> with <code class="prettyprint">all</code>.</p>

<h2 id="memberships#show">Memberships#show</h2>
<pre><code class="highlight shell">curl -u username:password http://home.inklingmarkets.com/memberships/314825.xml
</code></pre>

<blockquote>
<p>This gives all the info on that user.</p>
</blockquote>
<pre><code class="highlight xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;membership&gt;</span>
  <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>314825<span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;portfolio</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>1761252<span class="nt">&lt;/portfolio&gt;</span>
  <span class="nt">&lt;worth</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>6243740<span class="nt">&lt;/worth&gt;</span>
  <span class="nt">&lt;available-balance</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>1812488<span class="nt">&lt;/available-balance&gt;</span>
  <span class="nt">&lt;user&gt;</span>
    <span class="nt">&lt;active</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/active&gt;</span>
    <span class="nt">&lt;first-name&gt;</span>firstname<span class="nt">&lt;/first-name&gt;</span>
    <span class="nt">&lt;id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>314898<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;last-name&gt;</span>lastname<span class="nt">&lt;/last-name&gt;</span>
    <span class="nt">&lt;login&gt;</span>truckasaurus<span class="nt">&lt;/login&gt;</span>
    <span class="nt">&lt;push-closing-market-alerts</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/push-closing-market-alerts&gt;</span>
    <span class="nt">&lt;push-new-comment-alerts</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/push-new-comment-alerts&gt;</span>
    <span class="nt">&lt;push-new-market-alerts</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/push-new-market-alerts&gt;</span>
    <span class="nt">&lt;push-price-alerts</span> <span class="na">type=</span><span class="s">"boolean"</span><span class="nt">&gt;</span>true<span class="nt">&lt;/push-price-alerts&gt;</span>
    <span class="nt">&lt;email&gt;</span>email<span class="nt">&lt;/email&gt;</span>
  <span class="nt">&lt;/user&gt;</span>
  <span class="nt">&lt;balance</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>4482488<span class="nt">&lt;/balance&gt;</span>
<span class="nt">&lt;/membership&gt;</span>
</code></pre>

<p>Let&rsquo;s say we want to find out the worth of a particular user. We can do that via the memberships endpoint.</p>

<p>This call will allow an admin to look at any user&rsquo;s information.  The most salient data would typically be their <code class="prettyprint">worth</code> and <code class="prettyprint">available-balance</code> fields.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
